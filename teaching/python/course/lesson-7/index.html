<!DOCTYPE html>
<html lang="en" prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Lesson 7 | Kevin Sheppard</title>
<link href="https://fonts.googleapis.com/css?family=Roboto+Mono%7CRoboto:300,400,500,700&amp;display=fallback" rel="stylesheet"/>
<link href="../../../../assets/css/bootstrap-material-design.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/tipuesearch.css" rel="stylesheet" type="text/css"/>
<link href="../../../../assets/css/kevinsheppard.css" rel="stylesheet" type="text/css"/>
<link href="../../../../rss.xml" rel="alternate" title="RSS" type="application/rss+xml"/>
<link href="https://bashtage.github.io/kevinsheppard.com/teaching/python/course/lesson-7/" rel="canonical"/>
<link href="../../../../apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="../../../../favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="../../../../favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="../../../../favicon.png" rel="icon"/>
<link href="../../../../site.webmanifest" rel="manifest"/>
<link color="#07689f" href="../../../../safari-pinned-tab.svg" rel="mask-icon"/>
<meta content="#07689F" name="msapplication-TileColor"/>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX","output/HTML-CSS"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
  },
  tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: false,
  }
});
</script><!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta content="#07689F" name="theme-color"/>
<style>
    html, body {
      font-family: 'Roboto', sans-serif;
      background-color: #fafafa;
    }
</style>
<meta content="Kevin Sheppard" name="author"/>
<meta content="Kevin Sheppard" property="og:site_name"/>
<meta content="Lesson 7" property="og:title"/>
<meta content="https://bashtage.github.io/kevinsheppard.com/teaching/python/course/lesson-7/" property="og:url"/>
<meta content="Logical Operators¶This lesson covers:

Basic logical operators 
Compound operators 
Mixing logic and loops 
all and any 

Begin by loading the data in momentum.csv.






In [ ]:

    
# Setup: Load t" property="og:description"/>
<meta content="article" property="og:type"/>
<meta content="2019-09-04T17:18:32+01:00" property="article:published_time"/>
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>
<!-- Menubar -->
<wrapper class="d-flex flex-column"><nav class="navbar navbar-expand-sm fixed-top-sm justify-content-start flex-nowrap py-2 pl-1 nav-color-override navbar-primary"><div class="container">
<a class="navbar-brand ml-2 ml-sm-0 mr-auto" href="https://bashtage.github.io/kevinsheppard.com/">
<span id="blog-title">Kevin Sheppard</span>
</a>
<button aria-controls="bs-navbar1, bs-navbar2" aria-expanded="false" aria-label="Toggle navigation" class="custom-toggler navbar-toggler order-first" data-target="#bs-navbar1, #bs-navbar2" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="navbar-collapse collapse" id="bs-navbar1">
<form action="../../../../search/" class="form-inline my-2 my-lg-0 ml-auto">
<input aria-label="Search" autocomplete="off" class="form-control mr-sm-2 bg-light text-dark pl-2" id="tipue_search_input" name="q" placeholder="Enter search..." type="search"/><button class="btn btn-outline-primary bg-page my-1 my-sm-0" type="submit">Search</button>
</form>
</div>
</div>
</nav><nav class="navbar navbar-expand-sm nav-color-override navbar-primary pb-1"><div class="navbar-collapse collapse pt-2 pt-sm-0" id="bs-navbar2">
<div class="container">
<ul class="navbar-nav mr-auto">
<li class="nav-item dropdown">
<a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Research</a>
<div class="dropdown-menu">
<a class="dropdown-item" href="../../../../research/cv/">CV</a>
<a class="dropdown-item" href="../../../../research/publications/">Publications</a>
<a class="dropdown-item" href="../../../../research/working-papers/">Working Papers</a>
</div>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Teaching</a>
<div class="dropdown-menu">
<a class="dropdown-item" href="../../../mfe/">MFE</a>
<a class="dropdown-item" href="../../">Python</a>
<a class="dropdown-item" href="../../../matlab/">MATLAB</a>
<a class="dropdown-item" href="../../../lyx/">LyX</a>
<a class="dropdown-item" href="../../../other/">Other</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="../../../../galleries/">Photos</a>
</li>
<li class="nav-item">
<a class="nav-link" href="../../../../blog/">Blog</a>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">More</a>
<div class="dropdown-menu">
<a class="dropdown-item" href="../../../../archive.html">Archive</a>
<a class="dropdown-item" href="../../../../categories/">Tags</a>
<a class="dropdown-item" href="../../../../rss.xml">RSS feed</a>
</div>
</li>
</ul>
</div>
</div>
</nav><main class="flex-fill" id="content" role="main"><div class="container">
<div class="row pt-4"></div>
</div>
<div class="container">
<div class="row">
<div class="col-xl-1"></div>
<div class="col-xl-10">
<article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">Lesson 7</a></h1>
</header><div class="e-content entry-content" itemprop="articleBody text">
<div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Logical-Operators">Logical Operators<a class="anchor-link" href="#Logical-Operators">¶</a>
</h2>
<p>This lesson covers:</p>
<ul>
<li>Basic logical operators </li>
<li>Compound operators </li>
<li>Mixing logic and loops </li>
<li>
<code>all</code> and <code>any</code> </li>
</ul>
<p>Begin by loading the data in momentum.csv.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Setup: Load the momentum data</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">momentum</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'data/momentum.csv'</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">momentum</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="n">mom_01</span> <span class="o">=</span> <span class="n">momentum</span><span class="p">[</span><span class="s1">'mom_01'</span><span class="p">]</span>
<span class="n">mom_10</span> <span class="o">=</span> <span class="n">momentum</span><span class="p">[</span><span class="s1">'mom_10'</span><span class="p">]</span>
<span class="n">mom_05</span> <span class="o">=</span> <span class="n">momentum</span><span class="p">[</span><span class="s1">'mom_05'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Problem:-Basic-Logical-Statements">Problem: Basic Logical Statements<a class="anchor-link" href="#Problem:-Basic-Logical-Statements">¶</a>
</h3>
<p>For portfolio 1 and portfolio 10, count the number of elements that are $&lt;0$, $\geq0$ and exactly
equal to 0. Next count the number of times that the returns in portfolio 5 are greater, 
in absolute value, that 2 times the standard deviation of the returns in that portfolio.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Problem:-Compound-Statements">Problem: Compound Statements<a class="anchor-link" href="#Problem:-Compound-Statements">¶</a>
</h3>
<p>Count the number of times that the returns in both portfolio 1 and portfolio 10 are negative. 
Next count the number of times that the returns in portfolios 1 and 10 are both greater, in 
absolute value, that 2 times their respective standard deviations.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Problem:-Logical-Statements-and-for-Loops">Problem: Logical Statements and for Loops<a class="anchor-link" href="#Problem:-Logical-Statements-and-for-Loops">¶</a>
</h3>
<p>Use a for loop along with an if statement to simulate an asymmetric random walk of the form</p>
$$y_{i}=y_{i-1}+e_{i}+I_{[e_{i}&lt;0]}e_{i}$$<p>where $I_{[e_{i}&lt;0]}$ is known as an indicator variable that takes the value 1 if the statement in 
brackets is true. Plot y.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Problem:-Selecting-Elements-using-Logical-Statements">Problem: Selecting Elements using Logical Statements<a class="anchor-link" href="#Problem:-Selecting-Elements-using-Logical-Statements">¶</a>
</h3>
<p>For portfolio 1 and portfolio 10, select the elements that are $&lt;0$, $\geq 0$ and exactly equal to 
$0$. Next select the elements where both portfolios are less than $0$.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Problem:-Using-where">Problem: Using <code>where</code><a class="anchor-link" href="#Problem:-Using-where">¶</a>
</h3>
<p>Use find to select the index of the elements in portfolio 5 that are negative. Next, use the find 
command in its two output form to determine which elements of the portfolio return matrix are less 
than -2%.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Problem:-Combining-flow-control">Problem: Combining flow control<a class="anchor-link" href="#Problem:-Combining-flow-control">¶</a>
</h3>
<p>For momentum portfolios 1 and 10, compute the length of the runs in the series. In pseudo code,</p>
<ul>
<li>Start at i=1 and define run(1) = 1</li>
<li>For i in 2,...,T, define run(i) = run(i-1) + 1 if $\textrm{sgn}\left(r_{i}\right)=\textrm{sgn}\left(r_{i-1}\right)$ else 1.</li>
</ul>
<p>You will need to use length and zeros.</p>
<ol>
<li>Compute the length longest run in the series and the index of the location of the longest run. 
Was it positive or negative?</li>
<li>How many distinct runs lasted 5 or more days?</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">¶</a>
</h3>
<h4 id="Exercise:-all-and-any">Exercise: all and any<a class="anchor-link" href="#Exercise:-all-and-any">¶</a>
</h4>
<p>Use all to determine the number of days where all of the portfolio returns were negative. Use any 
to compute the number of days with at least 1 negative return and with no negative returns (Hint: 
use negation (~ or <code>logical_not</code>)).</p>
</div>
</div>
</div>
</div>
</div>
<script crossorigin="anonymous" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX","output/HTML-CSS"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
  },
  tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: false,
  }
});
</script></article>
</div>
<div class="col-xl-1"></div>
</div>
</div>
</main><footer class="w-100 text-light py-4 mt-4 bg-footer"><div class="container-fluid">
<div class="container">
<div class="row">
<div class="col-lg-8 col-md-10 mx-auto">
<ul class="list-inline text-center">
<li class="list-inline-item">
<a class="contact" href="mailto:kevin.k.sheppard@gmail.com">
<span class="fa-stack fa-lg">
<i class="far fa-circle fa-stack-2x"></i>
<i class="far fa-envelope fa-stack-1x"></i>
</span>
</a>
</li>
<li class="list-inline-item">
<a class="contact" href="https://github.com/bashtage">
<span class="fa-stack fa-lg">
<i class="far fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x"></i>
</span>
</a>
</li>
<li class="list-inline-item">
<a class="contact" href="https://www.linkedin.com/in/kevinsheppard/">
<span class="fa-stack fa-lg">
<i class="far fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x"></i>
</span>
</a>
</li>
<li class="list-inline-item">
<a class="contact" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">
<span class="fa-stack fa-lg">
<i class="fab fa-creative-commons fa-stack-2x"></i>
</span>
</a>
</li>
</ul>
<!--<p class="copyright text-muted">Copyright © Your Website 2018</p>-->
</div>
</div>
</div>
</div>
<div class="container-fluid">
<div class="container d-flex justify-content-center">
<div class="row">
<p> © 2019         <a href="mailto:kevin.k.sheppard@gmail.com">Kevin Sheppard</a> - 
Content licensed <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license">CC-BY-NC-ND</a>
except code blocks which are <a href="https://opensource.org/licenses/NCSA/" rel="license">NCSA</a> licensed.
 </p>
</div>
</div>
</div>
</footer></wrapper><script src="../../../../assets/js/jquery.min.js"></script><script src="../../../../assets/js/popper.min.js"></script><script src="../../../../assets/js/bootstrap.min.js"></script><script src="../../../../assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function (element) {
            return element.getElementsByTagName('img')[0].alt;
        }
    });
</script>
</body>
</html>
